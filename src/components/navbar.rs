use {leptos::prelude::*, leptos_router::components::A};

pub struct NavbarItem {
    pub path: String,
    pub text: String,
    pub image: AnyView,
}

#[component]
pub fn Navbar() -> impl IntoView {
    let navbar_items = [
        NavbarItem {
            path: "/".to_string(),
            text: "Dashboard".to_string(),
            image: view! {
                <svg
                    class="h-7 w-7 shrink-0"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    aria-hidden="true"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"
                    ></path>
                    .into_any()
                </svg>
            }.into_any(),
        },
        NavbarItem {
            path: "/devices".to_owned(),
            text: "Devices".to_owned(),
            image: view! {
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 32 32"
                    class="h-7 w-7 shrink-0"
                    stroke="currentColor"
                    fill="currentColor"
                    stroke-width=".5"
                >
                    <path d="M11 8C11 7.73478 11.1054 7.48043 11.2929 7.29289C11.4804 7.10536 11.7348 7 12 7H27C27.2652 7 27.5196 7.10536 27.7071 7.29289C27.8946 7.48043 28 7.73478 28 8C28 8.26522 27.8946 8.51957 27.7071 8.70711C27.5196 8.89464 27.2652 9 27 9H12C11.7348 9 11.4804 8.89464 11.2929 8.70711C11.1054 8.51957 11 8.26522 11 8ZM27 15H12C11.7348 15 11.4804 15.1054 11.2929 15.2929C11.1054 15.4804 11 15.7348 11 16C11 16.2652 11.1054 16.5196 11.2929 16.7071C11.4804 16.8946 11.7348 17 12 17H27C27.2652 17 27.5196 16.8946 27.7071 16.7071C27.8946 16.5196 28 16.2652 28 16C28 15.7348 27.8946 15.4804 27.7071 15.2929C27.5196 15.1054 27.2652 15 27 15ZM27 23H12C11.7348 23 11.4804 23.1054 11.2929 23.2929C11.1054 23.4804 11 23.7348 11 24C11 24.2652 11.1054 24.5196 11.2929 24.7071C11.4804 24.8946 11.7348 25 12 25H27C27.2652 25 27.5196 24.8946 27.7071 24.7071C27.8946 24.5196 28 24.2652 28 24C28 23.7348 27.8946 23.4804 27.7071 23.2929C27.5196 23.1054 27.2652 23 27 23ZM7 7H5C4.73478 7 4.48043 7.10536 4.29289 7.29289C4.10536 7.48043 4 7.73478 4 8C4 8.26522 4.10536 8.51957 4.29289 8.70711C4.48043 8.89464 4.73478 9 5 9H7C7.26522 9 7.51957 8.89464 7.70711 8.70711C7.89464 8.51957 8 8.26522 8 8C8 7.73478 7.89464 7.48043 7.70711 7.29289C7.51957 7.10536 7.26522 7 7 7ZM7 15H5C4.73478 15 4.48043 15.1054 4.29289 15.2929C4.10536 15.4804 4 15.7348 4 16C4 16.2652 4.10536 16.5196 4.29289 16.7071C4.48043 16.8946 4.73478 17 5 17H7C7.26522 17 7.51957 16.8946 7.70711 16.7071C7.89464 16.5196 8 16.2652 8 16C8 15.7348 7.89464 15.4804 7.70711 15.2929C7.51957 15.1054 7.26522 15 7 15ZM7 23H5C4.73478 23 4.48043 23.1054 4.29289 23.2929C4.10536 23.4804 4 23.7348 4 24C4 24.2652 4.10536 24.5196 4.29289 24.7071C4.48043 24.8946 4.73478 25 5 25H7C7.26522 25 7.51957 24.8946 7.70711 24.7071C7.89464 24.5196 8 24.2652 8 24C8 23.7348 7.89464 23.4804 7.70711 23.2929C7.51957 23.1054 7.26522 23 7 23Z"></path>
                </svg>
            }.into_any(),
        },
        NavbarItem {
            path: "/actions".to_owned(),
            text: "Actions".to_owned(),
            image: view! {
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 34 34"
                    class="h-7 w-7 shrink-0"
                    stroke="currentColor"
                    fill="currentColor"
                    stroke-width=".5"
                >
                    <path d="M27.625 4.25H24.4375V3.1875C24.4375 2.90571 24.3256 2.63546 24.1263 2.4362C23.927 2.23694 23.6568 2.125 23.375 2.125C23.0932 2.125 22.823 2.23694 22.6237 2.4362C22.4244 2.63546 22.3125 2.90571 22.3125 3.1875V4.25H11.6875V3.1875C11.6875 2.90571 11.5756 2.63546 11.3763 2.4362C11.177 2.23694 10.9068 2.125 10.625 2.125C10.3432 2.125 10.073 2.23694 9.8737 2.4362C9.67444 2.63546 9.5625 2.90571 9.5625 3.1875V4.25H6.375C5.81141 4.25 5.27091 4.47388 4.8724 4.8724C4.47388 5.27091 4.25 5.81141 4.25 6.375V27.625C4.25 28.1886 4.47388 28.7291 4.8724 29.1276C5.27091 29.5261 5.81141 29.75 6.375 29.75H27.625C28.1886 29.75 28.7291 29.5261 29.1276 29.1276C29.5261 28.7291 29.75 28.1886 29.75 27.625V6.375C29.75 5.81141 29.5261 5.27091 29.1276 4.8724C28.7291 4.47388 28.1886 4.25 27.625 4.25ZM9.5625 6.375V7.4375C9.5625 7.71929 9.67444 7.98954 9.8737 8.1888C10.073 8.38806 10.3432 8.5 10.625 8.5C10.9068 8.5 11.177 8.38806 11.3763 8.1888C11.5756 7.98954 11.6875 7.71929 11.6875 7.4375V6.375H22.3125V7.4375C22.3125 7.71929 22.4244 7.98954 22.6237 8.1888C22.823 8.38806 23.0932 8.5 23.375 8.5C23.6568 8.5 23.927 8.38806 24.1263 8.1888C24.3256 7.98954 24.4375 7.71929 24.4375 7.4375V6.375H27.625V10.625H6.375V6.375H9.5625ZM27.625 27.625H6.375V12.75H27.625V27.625ZM18.5938 17.5312C18.5938 17.8465 18.5003 18.1546 18.3252 18.4167C18.15 18.6788 17.9011 18.8831 17.6099 19.0037C17.3187 19.1243 16.9982 19.1559 16.6891 19.0944C16.3799 19.0329 16.0959 18.8811 15.873 18.6582C15.6502 18.4353 15.4984 18.1513 15.4369 17.8422C15.3754 17.533 15.4069 17.2126 15.5276 16.9213C15.6482 16.6301 15.8525 16.3812 16.1146 16.2061C16.3767 16.031 16.6848 15.9375 17 15.9375C17.4227 15.9375 17.8281 16.1054 18.127 16.4043C18.4258 16.7032 18.5938 17.1086 18.5938 17.5312ZM24.4375 17.5312C24.4375 17.8465 24.344 18.1546 24.1689 18.4167C23.9938 18.6788 23.7449 18.8831 23.4537 19.0037C23.1624 19.1243 22.842 19.1559 22.5328 19.0944C22.2237 19.0329 21.9397 18.8811 21.7168 18.6582C21.4939 18.4353 21.3421 18.1513 21.2806 17.8422C21.2191 17.533 21.2507 17.2126 21.3713 16.9213C21.4919 16.6301 21.6962 16.3812 21.9583 16.2061C22.2204 16.031 22.5285 15.9375 22.8438 15.9375C23.2664 15.9375 23.6718 16.1054 23.9707 16.4043C24.2696 16.7032 24.4375 17.1086 24.4375 17.5312ZM12.75 22.8438C12.75 23.159 12.6565 23.4671 12.4814 23.7292C12.3063 23.9913 12.0574 24.1956 11.7662 24.3162C11.4749 24.4368 11.1545 24.4684 10.8453 24.4069C10.5362 24.3454 10.2522 24.1936 10.0293 23.9707C9.80641 23.7478 9.65462 23.4638 9.59312 23.1547C9.53163 22.8455 9.56319 22.5251 9.68382 22.2338C9.80444 21.9426 10.0087 21.6937 10.2708 21.5186C10.5329 21.3435 10.841 21.25 11.1562 21.25C11.5789 21.25 11.9843 21.4179 12.2832 21.7168C12.5821 22.0157 12.75 22.4211 12.75 22.8438ZM18.5938 22.8438C18.5938 23.159 18.5003 23.4671 18.3252 23.7292C18.15 23.9913 17.9011 24.1956 17.6099 24.3162C17.3187 24.4368 16.9982 24.4684 16.6891 24.4069C16.3799 24.3454 16.0959 24.1936 15.873 23.9707C15.6502 23.7478 15.4984 23.4638 15.4369 23.1547C15.3754 22.8455 15.4069 22.5251 15.5276 22.2338C15.6482 21.9426 15.8525 21.6937 16.1146 21.5186C16.3767 21.3435 16.6848 21.25 17 21.25C17.4227 21.25 17.8281 21.4179 18.127 21.7168C18.4258 22.0157 18.5938 22.4211 18.5938 22.8438ZM24.4375 22.8438C24.4375 23.159 24.344 23.4671 24.1689 23.7292C23.9938 23.9913 23.7449 24.1956 23.4537 24.3162C23.1624 24.4368 22.842 24.4684 22.5328 24.4069C22.2237 24.3454 21.9397 24.1936 21.7168 23.9707C21.4939 23.7478 21.3421 23.4638 21.2806 23.1547C21.2191 22.8455 21.2507 22.5251 21.3713 22.2338C21.4919 21.9426 21.6962 21.6937 21.9583 21.5186C22.2204 21.3435 22.5285 21.25 22.8438 21.25C23.2664 21.25 23.6718 21.4179 23.9707 21.7168C24.2696 22.0157 24.4375 22.4211 24.4375 22.8438Z"></path>
                </svg>
            }.into_any(),
        },
        NavbarItem {
            path: "/integrations".to_string(),
            text: "Integrations".to_string(),
            image: view! {
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-7 w-7 shrink-0"
                    viewBox="0 0 31 30"
                    stroke="currentColor"
                    fill="currentColor"
                    stroke-width=".5"
                >
                    <path d="M23.0586 20.0941C24.2441 19.0983 25.1912 17.8492 25.83 16.4389C26.4689 15.0285 26.7832 13.4929 26.75 11.9449C26.6328 6.58829 22.3426 2.17149 16.9953 1.89024C15.6156 1.81515 14.2349 2.01808 12.9352 2.48697C11.6355 2.95587 10.4432 3.68118 9.42925 4.61983C8.4153 5.55847 7.60031 6.6913 7.03269 7.95105C6.46506 9.2108 6.15639 10.5718 6.12498 11.9531L3.49413 17.0133C3.48358 17.0344 3.47303 17.0555 3.46366 17.0766C3.27504 17.5162 3.2616 18.0113 3.42608 18.4605C3.59056 18.9097 3.92052 19.2791 4.34842 19.493L4.37772 19.5059L7.06248 20.7352V24.375C7.06248 24.8723 7.26003 25.3492 7.61166 25.7008C7.96329 26.0525 8.4402 26.25 8.93748 26.25H14.5625C14.8111 26.25 15.0496 26.1512 15.2254 25.9754C15.4012 25.7996 15.5 25.5611 15.5 25.3125C15.5 25.0639 15.4012 24.8254 15.2254 24.6496C15.0496 24.4738 14.8111 24.375 14.5625 24.375H8.93748V20.134C8.93762 19.9543 8.88611 19.7783 8.78908 19.6271C8.69206 19.4758 8.55361 19.3557 8.39022 19.2809L5.18748 17.8125L7.891 12.6164C7.96147 12.4844 7.99886 12.3372 7.99998 12.1875C7.99971 10.2754 8.64891 8.41991 9.84121 6.92507C11.0335 5.43022 12.6982 4.38469 14.5625 3.95977V5.78673C13.937 6.00788 13.4098 6.44304 13.0741 7.0153C12.7384 7.58756 12.6158 8.26007 12.728 8.91398C12.8402 9.56788 13.1799 10.1611 13.6872 10.5887C14.1944 11.0163 14.8365 11.2509 15.5 11.2509C16.1634 11.2509 16.8055 11.0163 17.3128 10.5887C17.82 10.1611 18.1598 9.56788 18.272 8.91398C18.3842 8.26007 18.2616 7.58756 17.9259 7.0153C17.5902 6.44304 17.063 6.00788 16.4375 5.78673V3.75001C16.5898 3.75001 16.7422 3.75001 16.8945 3.76173C18.557 3.85696 20.1546 4.44026 21.4873 5.43867C22.82 6.43707 23.8288 7.80627 24.3875 9.37501H22.0625C21.925 9.37496 21.7891 9.40516 21.6645 9.46349C21.54 9.52182 21.4298 9.60683 21.3418 9.71251L18.3523 13.3008C17.7289 13.0685 17.0433 13.0641 16.4169 13.2885C15.7906 13.5129 15.2637 13.9516 14.9296 14.527C14.5955 15.1023 14.4756 15.7773 14.5912 16.4326C14.7067 17.0878 15.0503 17.6811 15.5611 18.1074C16.0719 18.5338 16.717 18.7658 17.3824 18.7624C18.0477 18.7589 18.6904 18.5203 19.1968 18.0887C19.7032 17.6571 20.0406 17.0604 20.1494 16.404C20.2582 15.7476 20.1314 15.0739 19.7914 14.502L22.5019 11.25H24.8211C24.8492 11.4938 24.8664 11.7399 24.8726 11.9883C24.9019 13.3311 24.6113 14.6615 24.0248 15.8699C23.4384 17.0782 22.573 18.1297 21.5 18.9375C21.3678 19.0366 21.2641 19.1689 21.1995 19.321C21.1349 19.4731 21.1116 19.6396 21.132 19.8035L22.0695 27.3035C22.098 27.5299 22.2082 27.7382 22.3792 27.8892C22.5503 28.0402 22.7706 28.1236 22.9988 28.1238C23.038 28.1238 23.0771 28.1215 23.116 28.1168C23.2382 28.1016 23.3562 28.0625 23.4633 28.0016C23.5703 27.9408 23.6644 27.8595 23.74 27.7623C23.8156 27.6651 23.8714 27.554 23.9041 27.4352C23.9367 27.3165 23.9457 27.1925 23.9305 27.0703L23.0586 20.0941ZM15.5 9.37501C15.3146 9.37501 15.1333 9.32002 14.9791 9.21701C14.825 9.114 14.7048 8.96758 14.6338 8.79627C14.5629 8.62497 14.5443 8.43647 14.5805 8.25461C14.6167 8.07275 14.706 7.90571 14.8371 7.7746C14.9682 7.64348 15.1352 7.5542 15.3171 7.51802C15.4989 7.48185 15.6874 7.50041 15.8587 7.57137C16.0301 7.64233 16.1765 7.76249 16.2795 7.91666C16.3825 8.07083 16.4375 8.25209 16.4375 8.43751C16.4375 8.68615 16.3387 8.9246 16.1629 9.10042C15.9871 9.27624 15.7486 9.37501 15.5 9.37501ZM17.375 16.875C17.1896 16.875 17.0083 16.82 16.8541 16.717C16.7 16.614 16.5798 16.4676 16.5088 16.2963C16.4379 16.125 16.4193 15.9365 16.4555 15.7546C16.4917 15.5728 16.581 15.4057 16.7121 15.2746C16.8432 15.1435 17.0102 15.0542 17.1921 15.018C17.3739 14.9818 17.5624 15.0004 17.7337 15.0714C17.9051 15.1423 18.0515 15.2625 18.1545 15.4167C18.2575 15.5708 18.3125 15.7521 18.3125 15.9375C18.3125 16.1861 18.2137 16.4246 18.0379 16.6004C17.8621 16.7762 17.6236 16.875 17.375 16.875Z"></path>
                </svg>
            }.into_any(),
        },
        NavbarItem {
            path: "/settings".to_string(),
            text: "Settings".to_string(),
            image: view! {
                <svg
                    class="h-7 w-7 shrink-0"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    aria-hidden="true"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"
                    ></path>
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                    ></path>
                </svg>
            }.into_any(),
        },
    ].into_iter()
    .map(|navbar_item| {
        view! {
            <li>
                <A
                    href=navbar_item.path
                    prop:class="nav-link text-slate-600 group flex gap-x-3 rounded-md p-3 text-sm leading-6 font-semibold"
                >
                    {navbar_item.image}
                    <span class="sr-only">{navbar_item.text}</span>
                </A>
            </li>
        }
    }).collect::<Vec<_>>();

    view! {
        <div class="hidden lg:fixed lg:inset-y-0 lg:left-0 lg:z-50 lg:block lg:w-20 lg:overflow-y-auto bg-white lg:pb-4">
            <div class="flex h-16 shrink-0 items-center justify-center">
                <img class="h-8 w-auto rounded-full" src="/icon.png" alt="Iron Nest"/>
            </div>
            <nav class="mt-8">
                <ul role="list" class="flex flex-col items-center space-y-1">
                    {navbar_items}
                </ul>
            </nav>
        </div>
    }
}
